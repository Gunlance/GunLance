## 引言

IP是TCP/IP协议族中最为核心的协议。所有的TCP，UDP，ICMP及ICMP数据都以IP数据报格式传输。

不可靠的意思是它 **不能保证IP数据报能成功地到达目的地**。IP仅提供最好的传输服务。如果发生某种错误时，如某个路由器暂时用完了缓冲区，IP有一个简单的错误处理算法：丢弃该数据报，然后发送ICMP消息报给信源端。 **任何要求的可靠性必须由上层来提供**（如TCP）。

无连接这个术语的意思是 **IP并不维护任何关于后续数据报的状态信息**。每个数据报的处理是相互独立的。这也说明，IP数据报可以不按发送顺序接收。如果一信源向相同的信宿发送两个连续的数据报（先是A，然后是B），每个数据报都是独立地进行路由选择，可能选择不同的路线，因此B可能在A到达之前先到达。


## ICMP

**ICMP经常被认为是IP层的一个组成部分** 。它传递差错报文以及其他需要注意的信息。ICMP报文通常被IP层或更高层协议（TCP或UDP）使用。一些ICMP报文把差错报文返回给用户进程。 ICMP报文是在IP数据报内部被传输的。

### Ping

Ping程序目的是为了测试另一台主机是否可达。该程序发送一份ICMP回显请求报文给主机，并等待返回ICMP回显应答。 

### Traceroute

尽管不能保证从源端发往目的端的两份连续的IP数据报具有相同的路由，但是大多数情况下是这样的。

Tracerout程序可以让我们看到IP数据报从一台主机传到另一台主机所经过的路由。Tracerout程序还可以让我们使用IP源路由选项。 